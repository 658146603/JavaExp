<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title><center>实验4 数组、字符串与常用类<center></title>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
        
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        
        
    </head>
    <body class="vscode-light">
        <h1 id="center%e5%ae%9e%e9%aa%8c4-%e6%95%b0%e7%bb%84%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%8e%e5%b8%b8%e7%94%a8%e7%b1%bbcenter"><center>实验4 数组、字符串与常用类<center></h1>
<pre><code><div>班  级:     软工1805
学  号:     201806061219 
姓  名:     王程飞
完成日期:   2019.11.4
</div></code></pre>
<h4 id="1-%e7%bc%96%e5%86%99%e4%b8%80%e4%b8%aa%e7%b1%bbarrayutil%e5%8c%85%e6%8b%ac%e4%bb%a5%e4%b8%8b%e6%96%b9%e6%b3%95">1. 编写一个类ArrayUtil，包括以下方法：</h4>
<blockquote>
<p>(1)求一个数组的最大元素值：public static int maxElement(int a[])<br>(2)求一个数组的所有元素的平均值： public static int average(int a[])<br>(3) 查找某个数在数组中的位置：public static int search(int a[],int k)，要求从前往后查，返回在数组中第一次出现位置，如果未查到，则返回-1。<br>(4)编写main方法，随机产生20个60～100之间的不重复整数赋值给一个数组，分别测试以上方法。</p>
</blockquote>
<h4 id="%e4%bb%a3%e7%a0%81">代码</h4>
<pre><code class="language-java"><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArrayUtil</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">maxElement</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] a)</span> </span>{
        <span class="hljs-keyword">int</span> max = a[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> e: a) {
            <span class="hljs-keyword">if</span> (e &gt; max) {
                max = e;
            }
        }
        <span class="hljs-keyword">return</span> max;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">average</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] a)</span> </span>{
        <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> e: a) {
            sum += e;
        }
        <span class="hljs-keyword">return</span> sum/a.length;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">search</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] a, <span class="hljs-keyword">int</span> k)</span> </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; a.length; i++) {
            <span class="hljs-keyword">if</span> (a[i] == k) {
                <span class="hljs-keyword">return</span> i;
            }
        }
        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test0</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">int</span>[] num = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">20</span>];
        Random random = <span class="hljs-keyword">new</span> Random();
        HashSet&lt;Integer&gt; set = <span class="hljs-keyword">new</span> HashSet&lt;&gt;();

        <span class="hljs-keyword">do</span> {
            set.add(random.nextInt(<span class="hljs-number">40</span>) + <span class="hljs-number">60</span>);
        } <span class="hljs-keyword">while</span> (set.size() &lt; num.length);

        <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> e: set) {
            num[i++] = e;
            System.out.println(e);
        }
        System.out.println(Arrays.toString(num));
        System.out.println(<span class="hljs-string">"max: "</span> + ArrayUtil.maxElement(num));
        System.out.println(<span class="hljs-string">"avg: "</span> + ArrayUtil.average(num));
        System.out.println(<span class="hljs-string">"find 70: "</span> + ArrayUtil.search(num, <span class="hljs-number">70</span>));
    }
}
</div></code></pre>
<h4 id="%e7%bb%93%e6%9e%9c">结果</h4>
<pre><code><div>[64, 65, 97, 98, 67, 68, 69, 73, 75, 79, 
    84, 85, 86, 88, 89, 91, 92, 61, 62, 95]
max: 98
avg: 79
find 70: -1
</div></code></pre>
<h4 id="2-%e8%ae%be%e6%9c%893%e4%b8%aa%e6%95%b0%e7%bb%84%e5%ae%9a%e4%b9%89%e5%a6%82%e4%b8%8b">2. 设有3个数组定义如下:</h4>
<pre><code class="language-java"><div>String[] x ={<span class="hljs-string">"zero"</span>, <span class="hljs-string">"one"</span>, <span class="hljs-string">"two"</span>, <span class="hljs-string">"three"</span>, <span class="hljs-string">"four"</span>, <span class="hljs-string">"five"</span>, 
    <span class="hljs-string">"six"</span>, <span class="hljs-string">"seven"</span>, <span class="hljs-string">"eight"</span>, <span class="hljs-string">"nine"</span>} ;
String[] y ={<span class="hljs-string">"ten"</span>, <span class="hljs-string">"eleven"</span>, <span class="hljs-string">"twelve"</span>, <span class="hljs-string">"thirteen"</span>, <span class="hljs-string">"fourteen"</span>, 
    <span class="hljs-string">"fifteen"</span>, <span class="hljs-string">"sixteen"</span>, <span class="hljs-string">"seventeen"</span>, <span class="hljs-string">"eighteen"</span>, <span class="hljs-string">"nineteen"</span>};
String[] z ={<span class="hljs-string">"twenty"</span>, <span class="hljs-string">"thirty"</span>, <span class="hljs-string">"forty"</span>, <span class="hljs-string">"fifty"</span>, <span class="hljs-string">"sixty"</span>, 
    <span class="hljs-string">"seventy"</span>, <span class="hljs-string">"eighty"</span>, <span class="hljs-string">"ninety"</span>};
</div></code></pre>
<blockquote>
<p>试编写一个翻译程序Translate.java，实现用Java命令行输入一个小于100的整数，将其翻成英文表示，输入英文则输出相应的整数。<br>例如：<br>输入32，输出：thirty two<br>输入8， 输出：eight  <br>输入fourteen，输出14</p>
</blockquote>
<h4 id="%e4%bb%a3%e7%a0%81-1">代码</h4>
<pre><code class="language-java"><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Translate</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String[] x ={<span class="hljs-string">"zero"</span>, <span class="hljs-string">"one"</span>, <span class="hljs-string">"two"</span>, <span class="hljs-string">"three"</span>, 
        <span class="hljs-string">"four"</span>, <span class="hljs-string">"five"</span>, <span class="hljs-string">"six"</span>, <span class="hljs-string">"seven"</span>, <span class="hljs-string">"eight"</span>, <span class="hljs-string">"nine"</span>} ;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String[] y ={<span class="hljs-string">"ten"</span>, <span class="hljs-string">"eleven"</span>, <span class="hljs-string">"twelve"</span>, 
        <span class="hljs-string">"thirteen"</span>, <span class="hljs-string">"fourteen"</span>, <span class="hljs-string">"fifteen"</span>, <span class="hljs-string">"sixteen"</span>, 
        <span class="hljs-string">"seventeen"</span>, <span class="hljs-string">"eighteen"</span>, <span class="hljs-string">"nineteen"</span>};
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String[] z ={<span class="hljs-string">"twenty"</span>, <span class="hljs-string">"thirty"</span>, <span class="hljs-string">"forty"</span>, 
        <span class="hljs-string">"fifty"</span>, <span class="hljs-string">"sixty"</span>, <span class="hljs-string">"seventy"</span>, <span class="hljs-string">"eighty"</span>, <span class="hljs-string">"ninety"</span>};
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test2</span><span class="hljs-params">()</span> </span>{
        ArrayList&lt;String&gt; ax = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;(Arrays.asList(x));
        ArrayList&lt;String&gt; ay = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;(Arrays.asList(y));
        ArrayList&lt;String&gt; az = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;(Arrays.asList(z));
        ArrayList&lt;String&gt; at = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
        at.addAll(ax);
        at.addAll(ay);
        Scanner scanner = <span class="hljs-keyword">new</span> Scanner(System.in);
        System.out.println(<span class="hljs-string">"输入："</span>);
        <span class="hljs-keyword">while</span> (scanner.hasNextLine()) {
            String s = scanner.nextLine();

            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">int</span> num = Integer.parseInt(s);

                <span class="hljs-keyword">if</span> (num &gt;= <span class="hljs-number">20</span> &amp;&amp; num &lt; <span class="hljs-number">100</span>) {
                    System.out.print(z[(num/<span class="hljs-number">10</span>) -<span class="hljs-number">2</span>]);
                    <span class="hljs-keyword">if</span> (num%<span class="hljs-number">10</span> != <span class="hljs-number">0</span>) {
                        System.out.println(<span class="hljs-string">" "</span>+x[num-(num/<span class="hljs-number">10</span>)*<span class="hljs-number">10</span>]);
                    } <span class="hljs-keyword">else</span> {
                        System.out.println();
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (num &gt;= <span class="hljs-number">0</span> &amp;&amp; num &lt; <span class="hljs-number">100</span>) {
                    System.out.println(at.get(num));
                } <span class="hljs-keyword">else</span> {
                    System.out.println(<span class="hljs-string">"..."</span>);
                }
            } <span class="hljs-keyword">catch</span> (NumberFormatException e) {
                String[] nums = s.split(<span class="hljs-string">" "</span>);
                <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">for</span> (String item : nums) {
                    <span class="hljs-keyword">if</span> (ax.contains(item)) {
                        sum += ax.indexOf(item);
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ay.contains(item)) {
                        sum += ay.indexOf(item) + <span class="hljs-number">10</span>;
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (az.contains(item)) {
                        sum += (az.indexOf(item) + <span class="hljs-number">2</span>) * <span class="hljs-number">10</span>;
                    }
                }
                System.out.println(sum);
            }
        }
    }
}

</div></code></pre>
<h4 id="3-%e7%bc%96%e5%86%99%e4%b8%80%e4%b8%aa%e7%a8%8b%e5%ba%8f%e5%8c%85%e5%90%ab%e5%a6%82%e4%b8%8b%e6%96%b9%e6%b3%95">3. 编写一个程序，包含如下方法：</h4>
<blockquote>
<p>(1)输出当前的年份
<br>(2)输出当前的季度
<br>(3)输出当前的月份
<br>(4)输出当前是星期几
<br>(5)输出当前的日期，格式为××××年××月××日，如2013年11月1日
<br>(6)输出当前的北京时间，格式为时：分：秒，如08:21:36
<br>(7)输出当前的日期和时间，格式为××××-××-×× 时：分：秒，如
2013-11-1 08:21:36</p>
</blockquote>
<h4 id="%e4%bb%a3%e7%a0%81-2">代码</h4>
<pre><code class="language-java"><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DateOutput</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Calendar calendar = Calendar.getInstance();

    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test3</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">int</span> year = calendar.get(Calendar.YEAR);
        System.out.println(year + <span class="hljs-string">"年"</span>);
        <span class="hljs-keyword">int</span> month = calendar.get(Calendar.MONTH) + <span class="hljs-number">1</span>;
        System.out.println(month + <span class="hljs-string">"月"</span>);
        String season;
        <span class="hljs-keyword">switch</span> (month) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
                season = <span class="hljs-string">"春"</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
                season = <span class="hljs-string">"夏"</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:
                season = <span class="hljs-string">"秋"</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:
                season = <span class="hljs-string">"冬"</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:
                season = <span class="hljs-string">"?"</span>;
        }
        System.out.println(season);
        <span class="hljs-keyword">int</span> week = calendar.get(Calendar.DAY_OF_WEEK);
        <span class="hljs-keyword">switch</span> (week) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                System.out.println(<span class="hljs-string">"星期日"</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
                System.out.println(<span class="hljs-string">"星期一"</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
                System.out.println(<span class="hljs-string">"星期二"</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
                System.out.println(<span class="hljs-string">"星期三"</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
                System.out.println(<span class="hljs-string">"星期四"</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
                System.out.println(<span class="hljs-string">"星期五"</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
                System.out.println(<span class="hljs-string">"星期六"</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:
                System.out.println(<span class="hljs-string">"?"</span>);
                <span class="hljs-keyword">break</span>;
        }
        SimpleDateFormat sdf = <span class="hljs-keyword">new</span> SimpleDateFormat(<span class="hljs-string">"yyyy年MM月dd日"</span>);
        System.out.println(sdf.format(calendar.getTime()));
        sdf = <span class="hljs-keyword">new</span> SimpleDateFormat(<span class="hljs-string">"HH:mm:ss"</span>);
        System.out.println(sdf.format(calendar.getTime()));
        sdf = <span class="hljs-keyword">new</span> SimpleDateFormat(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>);
        System.out.println(sdf.format(calendar.getTime()));
    }
}

</div></code></pre>
<h4 id="%e7%bb%93%e6%9e%9c-1">结果</h4>
<pre><code><div>2019年
11月
冬
星期一
2019年11月04日
13:30:20
2019-11-04 13:30:20
</div></code></pre>
<h4 id="4-%e5%81%87%e8%ae%be%e6%9f%90%e5%81%9c%e8%bd%a6%e5%9c%ba%e7%9a%84%e6%94%b6%e8%b4%b9%e6%a0%87%e5%87%86%e4%b8%ba15%e5%88%86%e9%92%9f%e4%bb%a5%e5%86%85%e5%85%8d%e8%b4%b9%e8%b6%85%e8%bf%8715%e5%88%86%e9%92%9f%e6%af%8f%e5%b0%8f%e6%97%b6%e6%94%b6%e8%b4%b95%e5%85%83%e6%af%8f%e5%a4%a930%e5%85%83%e5%b0%81%e9%a1%b6%e6%9c%89%e6%95%88%e5%81%9c%e8%bd%a6%e6%97%b6%e9%97%b4%e5%ae%9e%e9%99%85%e5%81%9c%e8%bd%a6%e6%97%b6%e9%97%b4-15%e5%88%86%e9%92%9f%e5%a6%82%e5%ae%9e%e9%99%85%e5%81%9c%e8%bd%a61%e5%b0%8f%e6%97%b610%e5%88%86%e6%94%b6%e8%b4%b95%e5%85%83%e5%ae%9e%e9%99%85%e5%81%9c%e8%bd%a6%e6%97%b6%e9%97%b41%e5%b0%8f%e6%97%b620%e5%88%86%e9%92%9f%e6%94%b6%e8%b4%b910%e5%85%83%e4%bb%a5%e6%ad%a4%e7%b1%bb%e6%8e%a8%e8%af%b7%e7%bc%96%e5%86%99%e4%b8%80%e4%b8%aa%e7%ae%80%e5%8d%95%e7%9a%84%e5%81%9c%e8%bd%a6%e6%94%b6%e8%b4%b9%e7%a8%8b%e5%ba%8fparkingfeecollection1java">4. 假设某停车场的收费标准为：15分钟以内免费，超过15分钟每小时收费5元，每天30元封顶。有效停车时间=实际停车时间-15分钟，如实际停车1小时10分，收费5元；实际停车时间1小时20分钟，收费10元，以此类推。请编写一个简单的停车收费程序ParkingFeeCollection1.java。</h4>
<h4 id="%e4%bb%a3%e7%a0%81-3">代码</h4>
<pre><code class="language-java"><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ParkingFeeCollection1</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test4</span><span class="hljs-params">()</span> </span>{
        String[] _in = <span class="hljs-keyword">new</span> String[]{
                <span class="hljs-string">"2014-10-08 12:02:13"</span>,
                <span class="hljs-string">"2014-10-08 13:12:15"</span>,
                <span class="hljs-string">"2014-10-08 14:52:17"</span>,
                <span class="hljs-string">"2014-10-08 15:12:15"</span>,
                <span class="hljs-string">"2014-10-08 16:12:15"</span>,
                <span class="hljs-string">"2014-10-08 20:12:15"</span>,
                <span class="hljs-string">"2014-10-08 16:12:15"</span>,
                <span class="hljs-string">"2014-10-08 17:12:15"</span>,
        };

        String[] _out = <span class="hljs-keyword">new</span> String[]{
                <span class="hljs-string">"2014-10-08 12:13:56"</span>,
                <span class="hljs-string">"2014-10-08 13:48:42"</span>,
                <span class="hljs-string">"2014-10-08 16:28:22"</span>,
                <span class="hljs-string">"2014-10-08 20:38:49"</span>,
                <span class="hljs-string">"2014-10-09 07:29:52"</span>,
                <span class="hljs-string">"2014-10-09 07:45:26"</span>,
                <span class="hljs-string">"2014-10-09 13:49:53"</span>,
                <span class="hljs-string">"2014-10-11 15:12:12"</span>
        };
        SimpleDateFormat sdf = 
            <span class="hljs-keyword">new</span> SimpleDateFormat(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i&lt; _in.length; i++) {
            <span class="hljs-keyword">try</span> {
                Calendar in = Calendar.getInstance();
                Calendar out = Calendar.getInstance();
                System.out.println(<span class="hljs-string">"停车时间: "</span> + _in[i]);
                in.setTime(sdf.parse(_in[i]));
                System.out.println(<span class="hljs-string">"离开时间: "</span> + _out[i]);
                out.setTime(sdf.parse(_out[i]));
                <span class="hljs-keyword">long</span> diff = out.getTimeInMillis() - in.getTimeInMillis();
                <span class="hljs-keyword">if</span> (diff &lt; <span class="hljs-number">0</span>) {
                    System.out.println(<span class="hljs-string">"输入时间有误"</span>);
                    <span class="hljs-keyword">return</span>;
                }
                <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">int</span> diffDay = out.get(Calendar.DAY_OF_YEAR) 
                    - in.get(Calendar.DAY_OF_YEAR);
                <span class="hljs-keyword">if</span> (diffDay == <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">int</span> diffMinuit = (<span class="hljs-keyword">int</span>) (diff/<span class="hljs-number">60000</span> - <span class="hljs-number">15</span>);
                    <span class="hljs-keyword">if</span> (diffMinuit &lt; <span class="hljs-number">0</span>) {
                        sum = <span class="hljs-number">0</span>;
                    } <span class="hljs-keyword">else</span> {
                        sum = ((diffMinuit)/<span class="hljs-number">30</span>)*<span class="hljs-number">5</span>;
                    }
                    <span class="hljs-keyword">if</span> (sum &gt; <span class="hljs-number">30</span>) {
                        sum = <span class="hljs-number">30</span>;
                    }
                    System.out.println(sum);
                } <span class="hljs-keyword">else</span> {
                    sum += (diffDay -<span class="hljs-number">1</span>)*<span class="hljs-number">30</span>;
                    Calendar c0 = Calendar.getInstance();
                    c0.setTime(in.getTime());
                    c0.set(Calendar.HOUR_OF_DAY, <span class="hljs-number">23</span>);
                    c0.set(Calendar.MINUTE, <span class="hljs-number">59</span>);
                    Calendar c1 = Calendar.getInstance();
                    c1.setTime(out.getTime());
                    c1.set(Calendar.HOUR_OF_DAY, <span class="hljs-number">0</span>);
                    c1.set(Calendar.MINUTE, <span class="hljs-number">0</span>);
                    <span class="hljs-keyword">int</span> diff0 = (<span class="hljs-keyword">int</span>) (c0.getTimeInMillis() 
                        - in.getTimeInMillis())/<span class="hljs-number">60000</span>;
                    <span class="hljs-keyword">int</span> diff1 = (<span class="hljs-keyword">int</span>) (out.getTimeInMillis() 
                        - c1.getTimeInMillis())/<span class="hljs-number">60000</span>;
                    <span class="hljs-keyword">if</span>(diff0&gt;<span class="hljs-number">15</span>){
                        <span class="hljs-keyword">int</span> s0 = ((diff0-<span class="hljs-number">15</span>)/<span class="hljs-number">30</span>)*<span class="hljs-number">5</span>;
                        <span class="hljs-keyword">if</span> (s0 &gt; <span class="hljs-number">30</span>) s0 = <span class="hljs-number">30</span>;
                        sum += s0;
                    }
                    <span class="hljs-keyword">int</span> s1 = (diff1/<span class="hljs-number">30</span>)*<span class="hljs-number">5</span>;
                    <span class="hljs-keyword">if</span> (s1 &gt; <span class="hljs-number">20</span>) {
                        s1 = <span class="hljs-number">30</span>;
                    }
                    sum += s1;

                    System.out.println(sum);
                }

            } <span class="hljs-keyword">catch</span> (ParseException e) {
                System.out.println(<span class="hljs-string">"输入时间有误"</span>);
            }
        }

    }
}

</div></code></pre>
<h4 id="%e7%bb%93%e6%9e%9c-2">结果</h4>
<pre><code><div>停车时间: 2014-10-08 12:02:13
离开时间: 2014-10-08 12:13:56
0
停车时间: 2014-10-08 13:12:15
离开时间: 2014-10-08 13:48:42
0
停车时间: 2014-10-08 14:52:17
离开时间: 2014-10-08 16:28:22
10
停车时间: 2014-10-08 15:12:15
离开时间: 2014-10-08 20:38:49
30
停车时间: 2014-10-08 16:12:15
离开时间: 2014-10-09 07:29:52
60
停车时间: 2014-10-08 20:12:15
离开时间: 2014-10-09 07:45:26
60
停车时间: 2014-10-08 16:12:15
离开时间: 2014-10-09 13:49:53
60
停车时间: 2014-10-08 17:12:15
离开时间: 2014-10-11 15:12:12
120
</div></code></pre>

    </body>
    </html>